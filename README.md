# ChatServer

`ChatServer` 是一个基于 C++ 实现的实时聊天系统，采用经典的客户端-服务器架构。客户端和服务器组件分开运行，支持用户连接、认证以及消息交换。该系统使用现代 C++ 技术，结合 Muduo 网络库，并与数据库和 Redis 缓存集成，实现持久化存储和性能优化。

## 项目概述

本项目实现了一个分布式环境中的实时聊天系统。服务器负责管理用户连接、路由消息并与数据存储系统进行交互。客户端与服务器进行通信，提供用户界面并支持消息的发送和接收。

### 关键特性

- **实时聊天**：用户可以实时交换消息。
- **身份验证**：用户需要进行身份认证才能登录系统。
- **高效缓存**：使用 Redis 提供缓存层，提升性能和响应速度。
- **持久化存储**：所有用户数据、聊天记录和系统状态都会被存储在数据库中。

## 系统架构

### 高层架构

- **服务器端**：
  - `ChatServer`：中央服务器，处理客户端连接、消息路由和持久化操作。
  - `ConnectionManager`：管理客户端连接。
  - `MessageRouter`：负责将消息从发送者路由到接收者。
  - `AuthenticationService`：提供身份验证服务，确保用户身份的安全性。
  - `Database`：存储用户数据和聊天记录。
  - `RedisCache`：用于缓存数据，提升读取速度和系统性能。

- **客户端**：
  - `ChatClient`：客户端应用程序，提供用户界面并与服务器进行通信。
  - `UserInterface`：用户与系统交互的界面。
  - `NetworkLayer`：处理与服务器的网络通信。

### 数据流

1. **连接与认证**：
   - 客户端连接到服务器。
   - 客户端发送用户名和密码进行登录验证。
   - 服务器验证用户身份，成功后存储会话信息。

2. **消息交换**：
   - 客户端发送消息给另一个客户端。
   - 服务器将消息存储并更新会话。
   - 消息通过 Redis 缓存并传递到目标客户端。
   - 客户端收到消息并确认。

## 技术栈

- **编程语言**：C++
- **构建系统**：CMake
- **网络库**：Muduo 网络库
- **线程**：POSIX 线程
- **数据库**：自定义数据库连接（具体实现视项目而定）
- **缓存**：Redis 客户端

## 项目结构

```bash
chatServer/
├── src/                # 源代码
├── include/            # 头文件
├── bin/                # 编译后生成的二进制文件
├── thirdparty/         # 第三方库
├── client/             # 客户端实现
├── server/             # 服务器端实现
├── db/                 # 数据库操作
├── model/              # 数据模型
├── redis/              # Redis 集成
├── CMakeLists.txt      # CMake 配置文件
└── README.md           # 项目说明文件
